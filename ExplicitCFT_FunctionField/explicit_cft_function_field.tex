\documentclass{article}

\input{../_NoteHead.tex}

\newcommand{\F}{\mathbb{F}}
\newcommand{\perf}{\mathrm{perf}}
\newcommand{\sep}{\mathrm{sep}}
\renewcommand{\O}{\mathcal{O}}
\newcommand{\m}{\mathfrak{m}}
\DeclareMathOperator{\pic}{Pic}
\DeclareMathOperator{\frob}{Frob}
\newcommand{\llpar}{(\!(}
\newcommand{\rrpar}{)\!)}
% todo: define (())
\newcommand{\ab}{\mathrm{ab}}

\title{Notes on Drinfeld Modules and Explicit CFT for Function Fields}

\begin{document}
\maketitle

Pre-date: March 10! It is close!

1) Give a 30min (strict limit !!!) talk. Ideally more like 25min + 5 min for questions.  The talks will be in March. I will try to reserve a room, and will give a more precise time/date when possible.

2) Write an ``extended summary" (meaning around ~5 pages NOT!!! >=10) of you article. It should summarise the article and its main ideas and be accessible to advanced Master students (i.e., the other students in this group).

\section{Review on CFT}
Let $F$ be a global field, $C_F = \A_F^\times/F^\times$ be its idele class group, and $F^\ab$ be its maximal abelian extension inside a fixed algebraic closure $\bar F$.
The class field theory asserts that the Artin map
\[\theta_F : C_F\to\gal(F^\ab/F)\]
is a continuous group homomorphism with dense image,
establishing a bijection
\[\{\text{finite abelian extensions of }F\}\longleftrightarrow \{\text{finite index open subgroups of }C_F\}.\]
The direction ``$\to$'' is computable: for a finite abelian $L/F$,
the composition $C_F\stackrel{\theta_F}{\to}\gal(F^\ab/F)\to\gal(L/F)$ is surjective,
and its kernel $U = N_{L/F}(C_L)$ is the corresponding open subgroup of $C_F$, where $N_{L/F} : C_L\to C_F$ is the norm map\footnote{
    The norm for a idele is just the multiplication of the norm at every places.}.
But the other direction ``$\gets$'' is not known in general.
The goal of explictit class field theory is to find this inverse, or equivalently, the inverse of the Artin map.


\section{Drinfeld Modules}
Let $F$ be a global function field with a fixed place $\infty$, and with field of constants $k = \F_q$.
If $\lambda$ is a place of $F$,
we denote by $F_\lambda$ the completion at $\lambda$,  by $\O_\lambda\subset F_\lambda$ the valuation ring,
by $\F_\lambda := \O_\lambda/\m_\lambda$ the residue field at $\lambda$,
and by $N(\lambda) := \#\F_\lambda$ its cardinality.
Since we are working with function fields, the Teichm\"uller lifting $\F_\lambda\hookrightarrow \O_\lambda$ is a field homomorphism ({\color{red} Check this!});
we regard $\F_\lambda\subset\O_\lambda\subset F_\lambda$ as a subfield via this embedding.
% any uniformizer $t\in\m_\lambda$ yields an isomorphism
% \[\O_\lambda\simeq \F_\lambda[t],\]
% giving us an embedding $\F_\infty\hookrightarrow \O_\lambda$.


Let $L$ be an arbitary extension of $k$ with a fixed algebraic closure $\bar{L}$.


\subsubsection*{Function fields: holomorphy ring}
Let $S$ be a non-empty set of (not all the) places of $F$.
Define \[\O_S := \bigcap_{\lambda\notin S} \O_\lambda = \{x\in F\mid \ord_\lambda(x)\ge 0,\ \forall\lambda\notin S\}\]
to be the subring of $F$ consisting of elements regular away from $S$.
A \textbf{holomorphy ring} is a ring of this form.
For example, our $A = \O_{\{\infty\}}$ is a holomorphy ring.

\begin{proposition}
Consider a holomorphy ring $\O_S$.
\begin{enumerate}[(1)]
    \item $\Frac(\O_S) = F$.
    \item $\O_S$ is a Dedekind domain.
    \item There is a bijection \[\{\text{place of }F\text{ not in }S\}\longleftrightarrow \spm \O_S\] giving by $\lambda\mapsto \m_\lambda\cap\O_S$, which induces isomorphisms \[\F_\lambda = \O_\lambda/\m_\lambda\simeq \O_S/(\m_\lambda\cap\O_S)\]
\end{enumerate}
\end{proposition}
So we can regard $\lambda$ as a maximal ideal of $A$.

\subsection{Definition}
\subsubsection{Endomorphisms of the additive group}
Consider the additive group $\Ga_{/L}$ over $L$,
which is not only a group scheme, but also a $k$-vector space scheme,
and we consider the ring $\End_{k}(\Ga_{/L})$ of all $k$-linear endomorphism.
\begin{proposition}
    $\End_{k}(\Ga_{/L}) = L[\tau]$, where $\tau$ is the Frobenius-$q$ endomorphism.
\end{proposition}
We explain the notation in the proof.
\begin{proof}
    An endomorphism $\Ga\to\Ga$ of schemes over $L$ is given by an $L$-algebra homomorphism $\Phi: L[X]\to L[X]$,
    hence it is determined by the image $\varphi(X) = \Phi(X)$\footnote{
        Note that if $\varphi(X) = a_nX^n + \cdots + a_0$,
        then \[\varphi(f(X)) = a_nf(X)^n  + \cdots + a_0\] and
        \[\Phi(f(X)) = f(\Phi(X)) = f(\varphi(X))\] are \textit{\textbf{different}} in general.
    } of $X$.
    It respects the group-scheme structure if it commutes with the co-multiplication map (also an $L$-algebra homomorphism) \[\Delta : F[X]\to F[X]\otimes_L F[X],\quad X\mapsto X\otimes 1 + 1\otimes X.\]
    which amounts to\[(\Phi\otimes\Phi)(\Delta(X)) = (\Phi\otimes\Phi)(X\otimes 1 + 1\otimes X) =  \Phi(X)\otimes 1 + 1\otimes\Phi(X) = 
    \varphi(X)\otimes 1 + 1\otimes\varphi(X)\]
    equals \[\Delta(\Phi(X)) = \Delta(\varphi(X)) = \varphi(\Delta(X)) = \varphi(X\otimes 1 + 1\otimes X).\]
    % Since the tensor is over $L$ and $\varphi$ has coefficients in $L$,
    This is to say that\footnote{
        Recall that the multiplicative structure on $B\otimes_A C$ is given by \[(b\otimes b')\cdot(c\otimes c') = bb'\otimes cc'.\]
    } $\varphi$ is additive, i.e. $\varphi(X+Y) = \varphi(X) + \varphi(Y)$.

    We require furthur that $\Phi$ respects the ``co-$k$-scalar multiplication'', which I don't have the formula right now.
    So let's use the functor point of view.
    Take $c\in k$.
    Yoneda tells us that
    \[\Hom_{[k\text{-}\cat{Alg}^\opp, \cat{Grp}]}(\Ga, \Ga) \simeq \Ga(L[X]), \quad \phi\mapsto \phi(\Id_{L[X]}),\]
    so the co-$c$-multiplication is given by $X\mapsto cX$.
    Therefore $\Phi$ respects this map if $\varphi(cX) = c\varphi(X)$.

    In conclusion,
    \begin{align*}
        \enom_{k}(\Ga_{/L}) &= \{k\text{-linear polynomials in } L[X] \}\\
        &= \left\{\left.\sum_{i}a_i X^{p^i}\right|a_i\in L,\;\sum a_icX^{p^i} = \sum a_ic^{p^i}X^{p^i},\forall c\in k = \F_q\right\}\\
        &= \left\{ \left.\sum_{i}a_i X^{q^i}\right| a_i\in L \right\}
        = \left\{ \left.\left( \sum_{i}a_i \tau^{i} \right)(X)\right| a_i\in L \right\},
    \end{align*}
    where $\tau(X) := X^q$.

    Note that $\tau : L[X]\to L[X]$ is additive,
    but doesn't commutes with elements in $L$: \[\tau a = a^q\tau,\quad\forall a\in L.\]
    Therefore $L[\tau]$ is a \textit{non-commutative} subring of $\End(L[X])$, where multiplication is composition;
    it is a ring of \textbf{twisted polynomials}. And we have $\enom_{k}(\Ga_{/L})\simeq L[\tau]$.
\end{proof}
\begin{remark}
    $\tau$ corresponds to the Frobenius-$q$ endomorphism of $\Ga_{/L}$. (What is this? $\Ga_{/L}$ is NOT over $\F_q = k$.)
\end{remark}

\subsubsection{Drinfeld modules and isogenies}
Let $A$ be a $k$-algebra.
A \textbf{Drinfeld $A$-module\footnote{
    There is more general definition, but this one suffices.
} over $L$} is a homomorphism
\[\phi : A\to L[\tau]\quad x\mapsto \phi(x) =: \phi_x\]
of $k$-algebras such that $\phi(A)$ is \textit{not contained} in $L\subset L[\tau]$.

Let $\phi$ and $\phi'$ be two Drinfeld modules $A\to L[\tau]$.
An \textbf{isogeny} over $L$ from $\phi$ to $\phi'$
is an $f\in L[\tau]\sminus\{0\}$ such that \[f\phi_a = \phi_a'f,\quad\forall a\in A.\]
An \textbf{isomorphism} over $L$ from $\phi$ to $\phi'$ is an invertible isogeny, namely an isogeny $f\in L[\tau]^\times$.
If $M/L$ is an extension,
then a Drinfeld module over $L$ induces natrually a Drinfeld module over $M$,
and we can talk about isogenies over $M$ for Drinfeld modules over $L$.



% \begin{remark}[Another interpretation]
% Let $A$ be an $k$-algebra together with a $k$-algebra homomorphism $\iota : A\to L$.
% A \textbf{Drinfeld $A$-module over $L$} is an $A$-module structure on $\Ga_{/L}$,
% such that the induced action on Lie algebra is given by $A\stackrel{\iota}{\to} L$.

% \end{remark}

Let \[\partial : L[\tau]\to L\quad \sum_i a_i\tau^i\mapsto a_0\]
be the homomorphism of taking the constant term.
We say that a Drinfeld module $\phi : A\to L[\tau]$ \textbf{has generic characteristic},
if \[\partial\circ \phi : A\to L[\tau]\surject L\]
is \textit{injective}. This implies that $\phi$ is injective.

% \subsubsection{Good reduction}
% Consider the valuation ring $\O_L$ of $L$.
% We say that an $A$-Drinfeld module $\phi$ over $L$ has \textbf{good reduction},
% if it is isomorphic over $L$ to a Drinfeld module $\psi$, such that \[\psi_x\in\O_L[\tau],\quad \mu_\psi(x)\in \O_L^\times,\quad\forall x\in A,\]
% where $\mu_\psi(x) = \text{ leading coefficient of } \psi_x$. 


\subsection{The Drinfeld modules we need}

In what follows, we take $A := \O_{\{\infty\}}\subset F$ to be the subring of $F$ consisting of functions that are regular away from $\infty$,
and we assume that every Drinfeld modules $\phi : A\to L[\tau]$ is of generic characteristic,
so that $\partial\circ \phi : A\inject L$ is injective and it extends to an embedding \[F\hookrightarrow L.\]
Through the latter, we view $F$ as a subfield of $L$.

% \subsubsection{The rank}

Let $L^\perf$ be the purely inseperable closure of $L$ in $\bar L$,
then $L^\perf((\tau^{-1}))$ is a well-defined skew-field\footnote{
    We need to have all $p$-th root,
    so that $\tau^{-1}a = a^{1/q}\tau$ is always valid.
}, containing $L[\tau]$ as a subring.


Under our assumption,
$\phi : A\hookrightarrow L[\tau]$ is injective, so it extends to a unique embedding
\[\phi : F\hookrightarrow L^{\perf}((\tau^{-1})).\]
The function \[v_\phi : F\to \Z\cup\{\infty\}\quad x\mapsto \ord_{\tau^{-1}}(\phi_x) \]
is a nontrivial\footnote{
    Because $\phi(A)\not\subset L$.
} valuation, and $v_\phi(x)\le 0$ for all $x\in A\sminus\{0\}$.
Therefore $v_\phi$ is equivalent to the valuation $\ord_\infty$ attached to the place $\infty$.
We define the \textbf{rank of $\phi$} to be the rational number $r\in\Q$ such that
\[\ord_{\tau^{-1}}(\phi_x) = rd_\infty\ord_\infty(x),\quad\forall x\in F,\]
where $d_\infty = [\F_\infty : k]$ is the inertia degree of $F$ at $\infty$.
The tank $r$ is always an integer (by a proposition we may encounter later).
Since $L^\perf((\tau^{-1}))$ is complete under $\ord_{\tau^{-1}}$, the homomorphism $\phi : F\to L^\perf((\tau^{-1}))$ gives rise to a unique homomorphism
\[\phi : F_\infty\to L^\perf((\tau^{-1}))\]
such that $\ord_{\tau^{-1}}(\phi_x) = rd_\infty\ord_\infty(x)$ for all $x\in F_\infty$.

Now the map $\phi$ restricts to a homomorphism
\[\phi : \F_\infty\subset\O_\infty\to L^\perf\llbracket \tau^{-1} \rrbracket.\]
Composing with $\partial : L^{\perf}\llbracket \tau^{-1} \rrbracket\to L^\perf$ of taking constant term,
we obtain an embedding \[\partial\circ\phi|_{\F_\infty} : \F_\infty\hookrightarrow L^\perf,\]
whose image lies in $L$ ({\color{red} why?}).


\subsection{\texorpdfstring{$\varepsilon$}{epsilon}-normalized Drinfeld modules}

Let $\phi : A\to L[\tau]$ be a Drinfeld module of rank $r$, extending to an embedding $\phi : F\to L^\perf((\tau^{-1}))$.
For $x\in F_\infty^\times$,
we define \[\mu_\phi(x) := \text{first non-zero coefficient of }\phi_x\text{ as a Laurent series in }\tau^{-1},\]
so that $\mu_\phi(x)\in (L^\perf)^\times$,
and the first term, i.e.\ the term with \textit{highest} $\tau$-order, of $\phi_x$ is
\[\mu_\phi(x)\tau^{-rd_\infty\ord_\infty(x)}.\]
In particular, if $x\in A$, $\mu_\phi(x)$ is the leading coefficient of $\phi_x\in L[\tau]$,
which is what we used before to define reduction type.


By definition, for $x, y\in F_\infty^\times$,
\[\mu_\phi(xy)=\mu_\phi(x)\mu_\phi(y)^{1/q^{rd_\infty\mathrm{~ord}_\infty(x)}}.\]
Recall that $\phi$ gives us an embedding
\[\partial\circ\phi|_{\F_\infty} : \F_\infty\hookrightarrow L\]
With respect to this embedding, {\color{red} why?}
\[\mu_\phi(x) = x, \quad\forall x\in\F_\infty\]
\begin{definition}
    A \textbf{sign function for $F_\infty$} is a
    group homomorphism $F_\infty^\times\to\F_\infty^\times$ such that $\varepsilon|_{\F_\infty^\times} = \Id_{\F_\infty^\times}$.
    Note that a sign function $\varepsilon$ is trivial on $1 + \m_\infty$,
    so it is determined by $\varepsilon(\pi)$ for a uniformizer $\pi\in\m_\infty$.
\end{definition}

% \begin{example}
%     For a Drinfeld module $\phi$, the function $\mu_\phi : $
% \end{example}

Let $\varepsilon : F_\infty\to\F_\infty$ be a sign function for $F_\infty$. 
We say that $\phi$ is \begin{itemize}
    \item \textbf{normalized}, if \[\mu_\phi(x)\in \F_\infty,\quad \forall x\in F_\infty,\]
    \item $\varepsilon$\textbf{-normalized},
    if \[\exists\sigma\in\aut_k(\F_\infty),\quad \phi = \sigma\circ\varepsilon.\]
\end{itemize}

\begin{lemma}
    Let $\varepsilon$ be a sign function for $F_\infty$.
    Any Drinfeld module over $L$ is isomorphic over $\bar L$ to some $\varepsilon$-normalized Drinfeld module.
\end{lemma}


\subsection{The action of an ideal on a Drinfeld module}
Let $\phi : A\to L[\tau]$ be a Drinfeld module.
For an ideal $\mathfrak{a}$ of $A$, Define 
\[I_{\mathfrak{a}, \phi} := \text{ ideal of } L[\tau] \text{ generated by } \{\phi_a\mid a\in\mathfrak{a}\}.\]
Every \textit{left}-ideal of $L[\tau]$ is principal,\footnote{
    By an argument similar to $L[X]$, probably.
}
so \[I_{\mathfrak{a}, \phi} = L[\tau]\phi_{\mathfrak{a}}\]
for a \textit{unique monic} $\phi_\mathfrak{a}\in L[\tau]$.
It is a plain to verify that for every $x\in A$,
$I_{\mathfrak{a}, \phi}$ absorb $\phi_x$ also from the right,
i.e. $I_{\mathfrak{a}, \phi}\phi_x\subset I_{\mathfrak{a}, \phi}$,
and therefore gives us a \textit{unique} Drinfeld module \[\mathfrak{a}*\phi : A\to L[\tau]\quad x\mapsto (\mathfrak{a}*\phi)_x,\]
which is characterized by\[\phi_\mathfrak{a}\cdot \phi_x = (\mathfrak{a}*\phi)_x\cdot\phi_\mathfrak{a},\]
namely that $\phi_\mathfrak{a}$ is an isogeny from $\phi$ to $\mathfrak{a}*\phi$.

\begin{lemma}\label{action on a Drinfeld module by an ideal}
    Let $\mathfrak{a}$ and $\mathfrak{b}$ be non-zero ideals of $A$,
    then\[
    \phi_{\mathfrak{ab}} = (\mathfrak{b}*\phi)_\mathfrak{a}\cdot \phi_{\mathfrak{b}},\]
    \[\mathfrak{ab}*\phi = \mathfrak{a}*(\mathfrak{b}*\phi).\]
\end{lemma}
\begin{lemma}\label{action on a Drinfeld module by a principal ideal}
    Let $\mathfrak{a} = (w)\ne 0$ be a principal ideal of $A$,
    then \[
    \phi_{(w)} = \mu_\phi(w)^{-1}\cdot\phi_w,\]
    \[
    ((w)*\phi)_x = \mu_\phi(w)^{-1}\cdot\phi_x\cdot\mu_\phi(w),\ \forall x\in A.\]
    In particular, $\phi\simeq (w) * \phi$ (not given by $\phi_{(w)}$).
\end{lemma}
\begin{lemma}\label{action on a Drinfeld module by an ideal commutes with field extension}
    Let $\sigma : L\hookrightarrow M$ be a field extension, inducing a Drinfeld module \[\sigma(\phi) : A\to M[\tau],\ x\mapsto \sigma(\phi)_x = \sigma(\phi_x).\]
    Then \[\sigma(\mathfrak{a}*\phi) = \mathfrak{a} * \sigma(\phi),\]
    \[\sigma(\phi_\mathfrak{a}) = \sigma(\phi)_\mathfrak{a}.\]
\end{lemma}

\begin{example}
    The trivial ideal $A = (1)$ fixes $\phi$ and $\phi_A = \phi_1 = 1$.
\end{example}

Now we can extend the action of ideals to
\begin{itemize}
    \item   $\mathcal{I}_A$, the group of fractional ideals of $A$
\end{itemize}
More precisely,
for $w\in A\sminus \{0\}$,
\cref{action on a Drinfeld module by a principal ideal} suggests us to define
\[\left( (w^{-1})*\phi \right)_x := \mu_\phi(w)\cdot\phi_x\cdot \mu_{\phi}(w)^{-1}.\]
For a general fractional ideal $w^{-1}\mathfrak{a}$
where $\mathfrak{a}$ is an integral ideal of $A$,
we set \[(w^{-1}\mathfrak{a}) * \phi := w^{-1} * (\mathfrak{a} * \phi) : x\mapsto \mu_\phi(w)\cdot (\mathfrak{a} * \phi)_x\cdot \mu_\phi(w)^{-1}.\]
\cref{action on a Drinfeld module by an ideal} shows that these formulae define an action of $\mathcal{I}_A$
on the set of Drinfeld modules $A\to L[\tau]$.


\subsubsection{Sign functions}
Fix a sign function $\varepsilon : F_\infty\to\F_\infty$ for $F_\infty$.
Consider \begin{itemize}

    \item $\mathcal{P}^+_A$, a subgroup of the group $\mathcal{P}$ of principal fractional ideals of $A$, which is generated by $x\in F^\times$ with $\varepsilon(x) = 1$, and
    \item the \textbf{narrow class group} $\pic^+(A) := \mathcal{I}_A/\mathcal{P}^+_A$.
\end{itemize}
If, in addition, $\phi$ is $\varepsilon$-normalized,
then $\mathcal{P}^+$ fixes $\phi$ by \cref{action on a Drinfeld module by a principal ideal},
giving an action of $\pic^+(A)$.

\subsection{Torsion submodule}
A Drinfeld module $\phi : A\to L[\tau]$
defines an $A$-module structure on $\bar L$ by\[x\cdot b := \phi_x(b),\quad\forall x\in A, b\in\bar L.\footnotemark\]
\footnotetext{Note that if $\phi_x = \sum_{a_i\tau^i}$,
then \[\phi_x(b) = \sum_{i}\tau^i(b) = \sum_{i}b^{q^i}.\]
{\color{red} At least I think so!}}
All $\phi_x$ has coefficient in $L$, so $\phi$, in particular, gives an $A$-module structure on $L^\sep$.



For an ideal $\mathfrak{a}$ of $A$,
we define \[\phi[\mathfrak{a}] := \left\{b\in\bar L\mid \phi_\mathfrak{a}(b) = 0\right\} = \left\{ b\in\bar L\mid \phi_x(b) = 0,\forall x\in\mathfrak{a} \right\},\]
an $A/\mathfrak{a}$-module and an $A$-submodule of $\bar L$ with $A$-module structure induced by $\phi$.

\begin{proposition}\label{torsion submodule of an ideal}
    Let $\phi$ be a Drinfeld module of rank $r$,
    $\mathfrak{a}$ an ideal of $A$.
    Then $\phi[\mathfrak{a}]$ is a free $A/\mathfrak{a}$-module of rank $r$,
    and it is contained in $F^\sep$.
\end{proposition}
\begin{proof}
    Every $\phi_x$ acts by a polynomial of the form\[\phi_x(T) = a_0T + a_1T^q + \cdots + a_nT^{q^n},\]
    which is seperable, because $x\mapsto \phi_x\mapsto a_0$ is injective, which implies that $\phi_x'(T) = a_0\ne 0$ if $\phi_x \ne 0$.

    For the other claim, we use the structure of modules over Dedekind domains.
\end{proof}



\subsection{Hayes modules}

Let $\C_\infty$ be a completion of an algebraic closure of $F_\infty$.
It is $\infty$-adically complete and algebraically closed.

Fix a sign function $\varepsilon : F_\infty\to\F_\infty$ for $F_\infty$.
% \begin{definition}
A \textbf{Hayes module for $\varepsilon$}
is a Drinfeld module $\phi : A\to \C_\infty[\tau]$ over $\C_\infty$,
such that\begin{itemize}
\item it is of rank $1$,
\item it is $\varepsilon$-normalized,
\item $\partial\circ\phi : A\hookrightarrow\C_\infty$ is the inclusion $A\subset F\subset F_\infty\subset \C_\infty$.
\end{itemize}
Let $X_\varepsilon$ be the set of Hayes modules for $\varepsilon$.


If $\mathfrak{a}$ is an ideal of $A$, and $\phi\in X_\varepsilon$
then $\mathfrak{a}*\phi\in X_\varepsilon$.
By some discussion before,
this defines an action of $\pic^+(A) = \mathcal{I}_A/\mathcal{P}^+_A$
on $X_\varepsilon$.
\begin{proposition}\label{action of Pic+ on the set of Hayes modules}
    The set $X_\varepsilon$ is a principal homogeneous space for $\pic^+(A)$, i.e. $\pic^+(A)$ acts \textit{freely} and \textit{transitively} on $X_\varepsilon$.
\end{proposition}
% \end{definition}
\subsubsection{Galois action on \texorpdfstring{$X_\varepsilon$}{Xepsilon}}
We define the \textbf{normalizing field for $(F, \infty, \varepsilon)$} to be the extension \[H_A^+ := F\left( \text{coefficient of }\phi_x\mid \phi\in X_\varepsilon, x\in A \right)\]
of $F$ in $\C_\infty$.

\begin{theorem}\label{property of HA+}
\begin{enumerate}[(1)]
    \item For any $\phi\in X_\varepsilon$ and $x\in A$,
    \[H_A^+ = F\left( \text{coefficient of }\phi_x \right)\]
    \item Let $B$ be the integral closure of $A$ in $H_A^+$.
    For any $\phi\in X_\varepsilon$ and $x\in A$, $\phi_x\in H_A^+[\tau]$ has integral coefficient, i.e. $\phi_x$ has coefficient in $B$.
    \item The extension $H_A^+/F$ is finite abelian, and it is unramified away from $\infty$.
\end{enumerate}
By \cref{action on a Drinfeld module by an ideal commutes with field extension},
there is a natrual action of $\gal(H_A^+/F)$ on $X_\varepsilon$.
For a fixed $\phi\in X_\varepsilon$,
$\phi$ induces an injective group homomorphism
\[\Psi : \gal(H_A^+/F)\inject \pic^+(A),\]
such that \[\sigma(\phi) = \Psi(\sigma) * \phi,\quad \forall\sigma\in\gal_F.\]
\begin{enumerate}[(1)]
    \item[(4)] For each non-zero prime $\mathfrak{p}$ of $A$,
    the class of $\Psi(\frob_\mathfrak{p})$ in $\pic^+(A)$ equals the class of $\mathfrak{p}$.
    \item[(5)] $\Psi : \gal(H_A^+/F)\to \pic^+(A)$ is an isomorphism.
\end{enumerate}

\end{theorem}

\subsubsection{Reduction of Hayes modules}

\begin{corollary}\label{Hayes modules have good reduction away from infty}
    Every Hayes module $\phi$ has \textbf{good reduction} over $H_A^+$ at every finite place $\mathfrak{P}$ \textit{not} over $\infty$, i.e. the composition of reduction modulo $\mathfrak{P}$ with $\phi$ is a Drinfeld module of rank $1$ over $B/\mathfrak{P}$.
\end{corollary}
\begin{proof}
    \color{red} after finishing construciton of Artin$^{-1}$.
\end{proof}






\section{Construction of the Inverse to the Artin Map}
We fix the tuple $(F, \infty, \varepsilon)$
and a Hayes module $\phi\in X_\varepsilon$.
Let \[F_\infty^+ := \{x\in F_\infty^\times\mid \varepsilon(x) = 1\} = \ker(\varepsilon : F_\infty\to \F_\infty^\times).\]



\subsection{\texorpdfstring{$\lambda$}{lambda}-adic representation}
Let $\lambda$ be a place of $F$ different from $\infty$, and we denote the corresponding maximal ideal of $A$ still by $\lambda$.

Take $e\ge 1$ and consider $\phi[\lambda^e]$.
By \cref{torsion submodule of an ideal},
$\phi[\lambda^e]$ is an $A/\lambda^e$-module of rank $1$.
Define the \textbf{$\lambda$-adic Tate module} to be\[T_\lambda(\phi) := \Hom_A(F_\lambda/\O_\lambda,\ \phi[\lambda^\infty]).\]
\begin{proposition}
    $T_\lambda(\phi)$ is a free $\O_\lambda$-module of rank $1$.
\end{proposition}
\begin{proof}
    The ring $\O_\lambda$ is a DVR, so
    \[
        \Hom_A(F_\lambda/\O_\lambda,\ \phi[\lambda^\infty])
        = \varprojlim_e \Hom_A(\O_\lambda/\m_\lambda^e, \phi[\lambda^\infty])
        = \varprojlim_e \Hom_A(A/\lambda^e, \phi[\lambda^\infty])
        = \varprojlim_e \Hom_A(A/\lambda^e, \phi[\lambda^e]).\qedhere
    \]
\end{proof}

Hence \[V_\lambda(\phi) := T_\lambda(\phi)\otimes_{\O_\lambda} F_\lambda\] is a $1$-dimensional $F_\lambda$-vector space.

% Of course the next step is to try to find a Galois action.

Using the isomophism $\Psi : \gal(H_A^+/F)\simeq \pic^+(A)$ from \cref{property of HA+},
any ideal $\mathfrak{a}\in\Psi(\sigma)$ of $A$ satisfies that $\sigma(\phi) = \mathfrak{a}*\phi$,
and thus we have two isogenies between $\sigma(\phi)$ and $\phi$, such that
\begin{itemize}
    \item $\sigma$ induces an isomorphism $V_\lambda(\sigma) : V_\lambda(\phi)\simeq V_\lambda(\sigma(\phi))$,
    \item $\phi_\mathfrak{a}$ induces an isomorphism\footnote{
        Since $\phi$ has rank $1$, it is equivalent to that $V_\lambda(\phi_\mathfrak{a})$ is non-zero.
        This is true, because, parallel to elliptic curves, taking Tate module is a faithful functor, i.e. for any two Drinfeld modules $\phi$ and $\phi'$ over $L$, the map
        \[\Hom_{L}(\phi, \phi')\hookrightarrow \Hom_{\O_\lambda}(T_\lambda(\phi), T_\lambda(\phi'))\]
        is injective.
    } $V_\lambda(\phi_\mathfrak{a}) : V_\lambda(\phi)\simeq V_\lambda(\mathfrak{a}*\phi)$.
\end{itemize}
So we obtain an element \[V_\lambda(\phi_\mathfrak{a})^{-1}\circ V_\lambda(\sigma)\in\GL_{F_\lambda}(V_\lambda(\sigma)) = F_\lambda^\times\cdot\Id,\]
corresponding to an element $\rho_\lambda^\mathfrak{a}(\sigma)\in F_\lambda^\times$.

\begin{lemma}\label{lem: to define non-infty-adic representation}
    Let $\sigma, \gamma\in\gal_F$ and $\mathfrak{a}, \mathfrak{b}$ be ideals of $A$.\begin{enumerate}[(i)]
    \item If $\sigma(\phi) = \mathfrak{a}*\phi$ and $\gamma(\phi) = \mathfrak{b}*\phi$,
    then $(\sigma\gamma)(\phi) = (\mathfrak{a}\mathfrak{b}) * \phi$, and $\rho_{\lambda}^{\mathfrak{ab}}(\sigma\phi) = \rho_\lambda^\mathfrak{a}(\sigma)\rho_\lambda^\mathfrak{b}(\gamma)$.
    \item If $\sigma(\phi) = \mathfrak{a}*\phi = \mathfrak{b}*\phi$, then $\mathfrak{b}^{-1}\mathfrak{a}$ is generated by a \textit{unique} $w\in F_\infty^+\cap F$, and $\rho_\lambda^\mathfrak{a}(\sigma)\rho_\lambda^\mathfrak{b}(\sigma)^{-1} = w$.
    \end{enumerate}
\end{lemma}

If $\sigma\in\gal_{H_A^+}$,
then $\sigma(\phi) = \phi = A * \phi$.
By \cref{lem: to define non-infty-adic representation} (i),
we obtain a homomorphism
\[\rho_\lambda^A : \gal_{H_A^+}\to \O_\lambda^\times\quad \sigma\mapsto \rho_\lambda^A(\sigma).\]





\subsection{\texorpdfstring{$\infty$}{infty}-adic representation}

\subsection{The inverse of Artin map}



\section{Example: the Rational Function Field}
Let $F = k(t)$.
We consider the usual place $\infty$ and $A = k[t]$,
so that $F_\infty = \llpar k\rrpar$,
$\F_\infty = k$,
$\m_\infty = t^{-1}k\llbracket t^{-1}\rrbracket$,
$\ord_{\infty}(t^{-1}) = 1$.
Let $\varepsilon : F_\infty^\times\to k^\times$ be the unique sign function such that $\varepsilon(t^{-1}) = 1$,
so that $F_\infty^+ = \langle t\rangle ( 1 + \m_\infty)$.

The \textbf{Carlitz module} $\phi$ is defined by \[\phi : A = k[t]\to F[\tau]\quad t\mapsto \phi_t := t + \tau.\]


\section{Comparision with Elliptic Curves}


\section{Proof of (some) lemmas}






\end{document}