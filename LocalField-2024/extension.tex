\section{Extensions of Local Fields}

\subsection{Simple Extensions of DVRs}
Let $A$ be a local ring with ($\mathfrak{m}$, $k$), $f\in A[X]$ a monic polynomial of deg $n$.
We consider the extension \[A \to B_f := A[X]/f.\]

Let $\bar{f}$ be the image of $f$ in $k[X] \simeq A[X]/\mathfrak{m}$ with decomposition \[\bar{f} = \prod_{i}\bar{g}_i^{e_i},\ g_i\in A[X],\ \bar{g}_i\in k[X]\text{ irreducible.}\]
and \[\bar{B}_f := B_f/\mathfrak{m}B_f \simeq A[X]/(\mathfrak{m}, f) \simeq k[X]/(\bar{f}).\]
\begin{lemma}
    $\mathfrak{m}_i := (\mathfrak{m},\ g_i\bmod f)\subset B_f$ are all the distinct maximal ideals of $B_f$.
\end{lemma}
\begin{proof}
    Denote $\pi : B_f\to\bar{B}_f$. We have $B_f/\mathfrak{m}_i \simeq \bar{B}_f/(\bar{g}_i)$, so $\mathfrak{m}_i$'s are maximal.
    Note that $\mathfrak{m}_i = \pi^{-1}(\bar{g}_i)$.

    Take $\mathfrak{n}\in\spm B_f$.
    If $\mathfrak{n}\supset\mathfrak{m}$, then $\mathfrak{n} = \pi^{-1}\pi\mathfrak{n}$,
    and goes to a maximal ideal in $\bar{B}_f$ (because $\bar{B}_f/\pi\mathfrak{n} \simeq B_f/\mathfrak{n}$),
    so $\mathfrak{n} = \pi^{-1}(\bar{g}_i) = \mathfrak{m}_i$.

    So assume that $\mathfrak{m}\not\subset\mathfrak{n}$, then $\mathfrak{n} + \mathfrak{m}B_f = B_f$.\footnote{In this case $\mathfrak{n}/(\mathfrak{n\cap m})\simeq \bar{B}_f$ as $B_f$-module, and thus $\pi^{-1}\pi\mathfrak{n} = B_f$.}
    Therefore \[\frac{B_f}{\mathfrak{n}} = \frac{\mathfrak{n}+\mathfrak{m}B_f}{\mathfrak{n}} \simeq \frac{\mathfrak{m}B_f}{\mathfrak{n}}.\]
    Since $A$ is local and $B_f$ is a f.g. $A$-mod, by Nakayama's lemma, we see $\mathfrak{n} = B_f$. Contradiction.


\end{proof}

Now take $A$ to be a DVR with $\mathfrak{m} = (\varpi)$ and $K = \Frac A$. Put $L := K[X]/(f)$.
We give two cases where $B_f$ is a DVR.

\subsubsection*{Unramified case}
Let $\bar{f}\in k[X]$ be irreducible. Then $B_f$ is a DVR with maximal ideal $\mathfrak{m}B_f$.
\begin{corollary}\label{simple ext of dvr - unramified - is field}
    $f\in A[X]$ is also irreducible, so $L$ is a field.
    Moreover, $B_f$ is the integral closure of $A$ in $L$, and $L/K$ is unramified if $\bar{f}$ is separable.
\end{corollary}
\begin{proof}
    $L = K[X]/f \simeq \left( A[X]/f \right)\otimes_{A} K = B_f\otimes_A K$.
    As $B_f$ is a domain, $L$ is a field and $L = \Frac B_f$.
    Since $A$ is integrally closed, $B_f$ is also integrally closed, so $B_f$ is the integral closure of $A$ in $L$.
\end{proof}
\subsubsection*{Totally ramified case}
Let $f\in A[X]$ be an \textbf{Eisenstein polynomial}, i.e., \[f = X^n + a_{n-1}X^{n-1} + \cdots  + a_0,\ a_i\in\mathfrak{m},\ a_0\notin\mathfrak{m}^2.\]
\begin{proposition}
    $B_f$ is a DVR, with maximal ideal generated by the image of $X$ and residue field $k$.
\end{proposition}
\begin{proof}
    Let $x$ be the image of $X$ in $B_f$.
    We have $\bar{f} = X^n$, so $B_f$ is a local ring with maximal ideal $(\mathfrak{m}, x)$.
    Because $a_0\in\mathfrak{m\setminus m^2}$, $a_0$ must uniformise $\mathfrak{m}\subset A$, and \[-a_0\bmod f = x^n + \cdots + (a_1\bmod f)\,x,\] Therefore $(\mathfrak{m}, x) = (x)$.
\end{proof}
Similar to \cref{simple ext of dvr - unramified - is field}, $f$ is irreducible and $L$ is a field with $B_f$ the integral closure of $A$ in $L$.

\subsection{Hensel's Lemma}
Let $K$ be a local field, or CDVF
\footnote{We define a \textbf{local field} to be a complete discretely valued field, without the assumption of residue field being finite.}.

There are many versions of Hensel's lemma.
A relatively complicated one is: the decomposition of a polynomial modulo $\m_K$ into \textit{coprime} factors can be lifted to $K$.
\begin{theorem}
    [Hensel's lemma]\label{hensel lemma - lift coprime factors}
    Let $f\in\O_K[X]$, $\gamma, \eta\in k[X]$
    s.t. \[\begin{cases}
        \bar{f} = \gamma\eta,\\
        (\gamma, \eta) = 1
    \end{cases}\text{  in }k[X].\]
    Then there exists $g, h\in\O_K[X]$ s.t.\[\begin{cases}
        f = gh, &\text{ in } \O_K[X],\\
        \bar{g} = \gamma, \bar{h} = \eta &\text{ in } k[X].
    \end{cases}\]
\end{theorem}
Also the most famous ones about lifting roots in residue fields.
\begin{theorem}
    \label{hensel lemma - lift simple root}
    Let $f\in \O_K[X]$, $\pi\in\m_K$, $\alpha_0\in \O_K$ s.t. \[\begin{cases}
        P(\alpha_0)\in\pi O_K,\\ 
        P'(\alpha_0)\in\O_L^\times.
    \end{cases}\]
    Then $\exists !\ \alpha\in \alpha_0 + \pi\O_K$ s.t. \[P(\alpha) = 0.\]
\end{theorem}
\begin{theorem}
    \label{hensel lemma - variant}
    Let $f\in\O_K[X]$, $0\le \lambda < 1$,
    $\alpha_0\in\O_K$ s.t. \[|P(\alpha_0)|\le \lambda |P'(\alpha)|^2.\]
    Then $\exists!\ \alpha\in\O_K$ s.t. \[\begin{cases}
        P(\alpha) = 0,\\ 
        |\alpha - \alpha_0| \le\lambda |P'(\alpha_0)|.
    \end{cases}\]
\end{theorem}
Note that in both cases, the lift is \textit{unique}.

\subsubsection*{Proof of Hensel's lemma}
We propose two kind of proofs for them. Full proof is only given to \cref{hensel lemma - lift coprime factors}.

The first one is the traditional $\pi$-adic approximation.
\begin{lemma}\label{bezout with deg condition}
    If $k$ is a field, $P, Q\in k[X]$ are coprime and $R\in k[X]$,
    then \[\exists A, B\in k[X],\quad R = AP + BQ\ \st \deg A\le \deg Q - 1.\]
\end{lemma}
\begin{proof}
    Let $R = A_0P + B_0Q$, then $R = (A_0 - uQ)P + (B_0 + uP)Q$ are all the possibilities.
    By Euclidean division, dividing $A_0$ by $Q$ gives us $u\in k[X]$ with $\deg (A_0 - uQ)\le \deg Q - 1$. 
\end{proof}

\begin{proof}[Proof of \cref{hensel lemma - lift coprime factors}]
    % Write $\deg f = d$, $\deg \gamma = m$, $\implies\deg \eta\le d - m$.
    Let $\pi$ be a uniformiser.
    Take a lift $g_1$ of $\gamma$ with $\deg g_1 = \deg \gamma$, and a lift $h_1$ of $\eta$ with $\deg h_1 = \deg\eta$.
    We seek for : $\{g_n\}_n, \{h_n\}_n\subset\O_K[X]$ s.t. \[f \equiv g_nh_n\bmod \pi^n,\quad g_{n + 1} = g_n + \pi^ny_n,\ h_{n+1} = h_n + \pi^nz_n .\]
    In order $\lim_n g_n, \lim_n h_n\in\O_K[X]$,
    we require $\deg y_n \le \deg \gamma$, $\deg z_n\le \deg \eta$.

    Assume we have found $g_nh_n\equiv f\bmod \pi^n$,
    then we need\begin{align*}
        &{} f\equiv (gn+\pi^ny_n)(h_n + \pi^nz_n)\equiv g_nh_n + \pi^n(g_nz_n + h_ny_n) &\bmod \pi^{n+1}\\
        \implies & \O_K[X]\ni \frac{f - g_nh_n}{\pi^n}\equiv g_nz_n+h_ny_n \equiv \gamma z_n + \eta y_n&\bmod\pi.
    \end{align*}
    Via \cref{bezout with deg condition},
    we find $z_n, y_n\in\O_K[X]$ with \[\deg y_n\le\deg\gamma -1,\implies\deg z_n \le \deg f - \deg\eta.\qedhere\]
\end{proof}


Another proof uses the \textit{fixed point theorem}.
\begin{lemma}
    [Fixed point theorem]
    Let $C$ be a complete metric space, $f : C\to C$ a \textbf{contracting map}, i.e, \[\exists\alpha, 0\le \alpha\ {\color{red}< 1} \st\ |f(x) - f(y)|\footnotemark <\alpha |x-y|,\ \forall x, y\in C. \]
    \footnotetext{Not a right notation, but anyway.}
    Then $f$ has a \textit{unique} fixed point in $C$.
\end{lemma}

Recall that the $K[X]$ is equipped with the \textbf{Gauss nrom}: for $f = \sum_{i=0}^n a_iX^i$,
\[|f| := \max\{a_0, \dots, a_n\}.\]
$K[X]$ is not complete w.r.t.\! Gauss norm,
but each subspace\[K[X]_n := \{f\in K[X]\mid \deg f\le n - 1\}\]
is complete, since it is a sup-norm on a f.d.\! $K$-vector space;
see \cref{f.d. vector space over complete normed field is complete with all norms equivalent}.
(T.B.C.)
% \begin{proposition}
%     The Gauss norm is an ultrametric norm on the $K$-algebra $K[X]$\footnote{
%         The Gauss norm is also complete on $K\gene{X_1, \dots, X_n} = \varprojlim_m K[X_1, \dots, X_n]/\pi^m$}. 
% \end{proposition}
% \begin{proof}
    
% \end{proof}

% \begin{proof}
%     [Proof of \cref{hensel lemma - lift coprime factors}]
%     Recall that:
    
% \end{proof}

\subsection{Extending the norm}
Let $K$ be a complete normed field\footnote{By a \textbf{complete normed field} $K$,
we always require an \textit{ultrametric / nonarchimedean} norm $|\cdot|_K$. The norm corresponds to a valuation $\val : K\to\R\cup\{\infty\}$ by $\val(x) = -\log_a|x|$ for any chosen $a\in \R_{\ge 1}$, which is not necessarily discrete.
Then \begin{center}
    $K$ is a local field $\iff \m_K$ is a principal ideal $\iff \val(K^\times)$ is a discrete subgroup of $\R$.
\end{center}
}.
Consider an algebraic extension $L/K$, we wonder if the norm extend to $L$.
% For this, we first show that: all equivalent complete norm on $K$ are actually \textit{equal}.

Recall: two norms $|\cdot|_1$ and $|\cdot|_2$
on a $K$-vector space $V$ are \textbf{equivalent} \begin{center}
    $:=$ they give the same topology
\end{center}\[\iff (|x_n|_1\to 0\iff |x_n|_2\to 0).\]
\begin{proposition}
    If $|\cdot|_1$ and $|\cdot|_2$ are two equivalent norms on $K$, then \[\exists\alpha > 0,\quad |\cdot|_1 = |\cdot|_2^\alpha\]
\end{proposition}
\begin{proof}
    ($\impliedby$) Assume $|\cdot|_1\sim|\cdot|_2$.
    \begin{itemize}
\item Let $y\in K$. $|y^n|_i\to 0\iff |y|_i < 1$,
\[\implies \left( |y|_1 < 1\iff |y|_2 < 1 \right).\]
    \end{itemize}
Fix $y\in K^\times$ with $|y|_1\ne 1$. Then $|y|_2\ne 1$.
\begin{itemize}
    \item Let $x\in K$.
    By previous computation, 
    \begin{align*}
        &{} |x^my^{-n}|_1 < 1\iff |x^my^{-n}|_2 < 1, &\forall m, n\in\Z,\\
    \implies &{} |x|_1 < |y|_1^{r}\iff |x|_2 < |y|_2^{r}, &\forall r\in\Q,\\
    \implies &{} |x|_1 < |y|_1^{s}\iff |x|_2 < |y|_2^{s}, &\forall s\in\R\\
    \implies &{} |x|_2 = |x|_1^{\alpha}. &
    \end{align*}
    where $\alpha > 0$ is determined by $|y_2| = |y_1|^\alpha$.\qedhere
\end{itemize}
\end{proof}
\begin{theorem}[Artin]\label{f.d. vector space over complete normed field is complete with all norms equivalent}
    Let $K$ be complete normed field, $V$ a f.d. $K$-vector space.
    Then all norms on $V$ are equivalent, and $V$ is complete for them.
\end{theorem}
Note that we don't require $K$ to be locally compact; as a price, the norm on $V$ need to be ultrametric too (which is our convention).
\begin{proof}
    Let $e_1, \dots, e_d$ be a $K$-basis of $V$, $\norm{\cdot}_{\infty}$ the corresponding sup-norm. The sup-norm is complete.
    Then we do induction on $d$ to show $\norm{\cdot}\sim \norm{\cdot}_{\infty}$ for any norm $\norm{\cdot}$. Omitted.
\end{proof}

\begin{corollary}
    Let $K$ be a complete normed field, $L/K < \infty$. If the norm on $K$ extends to a norm on $L$, then their is at most one way to do so, and $L$ will be complete.
\end{corollary}
\begin{proof}
    All such norm will be $|\cdot|^\alpha$ for a fixed norm $|\cdot|$.
    These norms coincide on $K$, so $\alpha = 1$.
\end{proof}

In case of complete \textit{discretely valued} fields, there is indeed such an extension.
\begin{theorem}\label{unique extension of norm for fintie extension local field}
    Let $K$ be a local field, $L/K < \infty$.
    Then the norm on $K$ extends uniquely to $L$, making $L$ also a local field.
    The norm is given by \[|x|_L = \left|N_{L/K}(x)\right|_K^{1/[L : K]},\]
    and $\O_L = $ integral closure of $\O_K$ in $L$. 
\end{theorem}
We give two proofs.
\begin{proof}
    [Proof (algebraic)]Recall that:
\begin{lemma}\label{extension of Dedekind: integral closure of Dedekind domain in finite extension of its fraction field is Dedekind domain}
    If $A$ is a Dedekind, $L/\Frac(A) < \infty$, $B$ is the integral closure of $A$ in $L$, then: $B$ is a Dedekind domain.
\end{lemma}
Apply this to $A = \O_K$,
we see that $B :=$ integral closure of $\O_K$ in $L$ is a Dedekind domain.
Let \[\m_KB = \mathfrak{P}_1^{e_1}\cdots\mathfrak{P}_r^{e_r}\] be the decomposition of $\m_K$ in $B$. Define $v_i(x) := $ exponent of $\mathfrak{P}_i$ in $xB$.
One verifies that $v(\cdot)/e_i$ extends the valuation $v_K$ on $K$ with value group $\Z$.
The uniqueness forces $r = 1$, and $\O_L = \{x\in L\mid v_i(x) > 0\} = B$.
\end{proof}
Another proof gives the explicit formula for the norm. We need a result on integrality.
\begin{proposition}
    Let $K$ be a local field, $P(X) = a_dX^d + a_{d-1}X^{d-1} + \dots + a_0\in K[X]$ an irreducible polynomial with $a_0a_d\ne 0$.
    Then the Gauss norm of $f$ is
    \[|f| = \max\{|a_0|, |a_d|\}.\]
    In particular, if $f$ is monic and its constant term $a_0\in\O_K$, then $P(X)\in\O_K[X]$.
\end{proposition}
\begin{proof}\label{monic polynomial integral iff const coeff}
    Let $n\in\Z$ s.t. $\pi^nP\in \O_K[X]$ and $\overline{\pi^nP}\ne 0\in k[X] $.
    Let $r$ be the Weierstrass degree of $\pi^nP$,so that \[\pi^nP(X)\bmod\pi = \pi^nX^r(a_r + a_{r+1}X + \dots + a_dX^{d-r}).\] 
    If $0 < r < d$,
    then the decomposition lift to a nontrivial decomposition of $\pi^nP$ in $K[X]$ via \cref{hensel lemma - lift coprime factors}.
    Therefore $r = 0$ or $r = d$.
    Now nate that $|f| = |a_r|$.
\end{proof}
\begin{proof}
    [Proof of \cref{unique extension of norm for fintie extension local field} (analytic)]
    Let $d := [L : K]$.
    We show that $|\cdot|_L := |N_{L/K}(\cdot)|_K^{1/d}$ is indeed a norm on $L$ (it obviously extends $|\cdot|_K$).
    The only nontrivial step is to check the strong triangle inequality, which is equivalent to \[|z|_L < 1\implies |1 + z|_L < 1.\]
    Let $P(X)$ be the minimal polynomial of $z$ over $K$.
    Since
    $N_{L/K}(z) = (-1)^{d} P(0)^{[L : K(z)]}$\footnote{Simple fact, see \cref{compute norm and trace from minimal polynomial}.},
    so by \cref{monic polynomial integral iff const coeff}, \[|z| \le 1\iff P(0)\in\O_K[X]\implies \text{minimal polynomial of }z+1\in \O_K[X]\implies |1 + z| \le 1.\qedhere\]
\end{proof}
\begin{corollary}
    Let $K$ be a local field.
    \begin{enumerate}
        \item [(1)]    The norm on $K$ extends uniquely to its algebraic closure $K^\alg$\footnote{Note that $K^\alg$ is not a local field and not complete. We'll see this later.}.
        \item [(2)] If $L$ and $L'$ are two algebraic extension of $K$,
        then any $K$-embedding $\sigma\in \Hom_K(L, L')$ preserves the norm; i.e., $|\sigma(x)|_{L'} = |x|_L$.
    \end{enumerate}
\end{corollary}

\subsection{Unramified Extensions of Local Fields}
Let $K$ be a local field (i.e., CDVF).
We assume further that both $K$ and its residue field $k = \mathcal{O}_K/\mathfrak{m}$ are perfect.

The slogan is that unramified extensions are just extensions of residue fields.
Using Hensel's lemma, an extension $k(a)/k$ can be lifted to a unique extension $K(\alpha)/K$ over $K$ with \[\gal(K(\alpha)/K)\simeq \gal(k(a)/k).\] Moreover, given an extension $L/K$, there is a maximal unramified subextension $K_0$ in $L$ containing every unramified extensions.

Now we assume $k$ to be finite. Then adjoining roots of unities with order coprime to $p = \cha k$ gives all finite unramified extensions of $K$.

\begin{example}
    Let $K/\Q_p < \infty$ and $k = \mathbb{F}_q$.
    Then the unique extension of $k$ of degree $n$ is the splitting field of $X^{q^n} - X$ over $k$, which equals $k(\mu_{q^n - 1})$ once we fix an algebraic closure of $k$.
    So the unramified extension $K_n/K$ of degree $n$ is the splitting field of $X^{q^n} - X$ over $K$, i.e., \[K_n = K(\mu_{q^{n} - 1}).\] The Galois group $\gal(K_n/K)$ is generated by $\frob_K$, which is determined by \[\frob_K\beta \equiv \beta^q \mod\varpi,\ \forall\beta\in\mathcal{O}_{K_n}\]for any uniformiser $\varpi$ (simultaneously of $K$ and $K_n$).

    What if we adjoin $\zeta_{m}$ to $K$ where $m$ is an arbitary integer prime to $p$?
    The answer is that $K(\mu_m)$ is unramified of degree the smallest positive integer $f$ s.t. $m \mid p^f - 1$, by the following \cref{cyclotomic extension of finite fields} on finite fields.
\end{example}

\begin{lemma}\label{cyclotomic extension of finite fields}
    Let $\zeta_n$ be a primitive $n$-th root of unity over $\F_q$ with $q, n$ coprime. Then $[\F_q(\zeta_n) : \F_q]$ is the smallest integer $f > 0$ s.t. $n \mid q^f - 1$.
\end{lemma}
\begin{proof}
    Because $\cha\F_q\nmid n$, the primitive root $\zeta_n$ exists and $\F_q(\zeta_n)$ is the splitting field of $X^n - 1$ over $\F_q$.
    The degree $f = [\F_q(\zeta_n) : \F_q]$ is the order of $\frob_q$ on $\F_q(\zeta_n)$, i.e., $f$ is the smallest integer s.t. \[\frob_q^f(\zeta_n) = \zeta_n^{q^f} = \zeta_n.\] The definition of primitive root of unity says that \[\zeta_n^{q^f -1} = 1\iff n \mid q^f - 1.\qedhere\]
\end{proof}

\subsection{Newton Polygon}
Let $K$ be a local field with valuation $\val$ extended to $K^\alg$.

For $P = a_0 + a_1 X + \dots + a_dX^d\in K[X]$,
the \textbf{Newton polygon} of $P := \mathrm{NP}(P) := $ convex hull of points \[(0, \val(a_0)), (1, \val(a_1)),\dots, (d, \val(a_d)).\]
\begin{itemize}
    \item $\mathrm{NP}(P)$ is a union of linked segments with increasing slopes.
    \item \textbf{length of a segment} $:=$ its length along $x$-axis.
\end{itemize}

\begin{theorem}
    The number of roots of $P$ in $K^\alg$ with valuation $\lambda$ = the length of $\mathrm{NP}(P)$ with slope $-\lambda$.
\end{theorem}

\subsection{Ramification Groups}

Let $K$ be a local field with residue field $k$, $L/K<\infty$ Galois. We will study the Galois group \[G := \gal(L/K)\] by giving filtrations on it.

Let $\val_L$ be the valuation on $L$ normalized by $\val_L(L^\times) = \Z$.
Assume $\cha k_K = \cha k_L = p > 0$ and $k_L/k_K$ separable.
The Galois group $G$ acts on $L/K$,
and its decomposition subgroup, by definition, acts on the integers $\O_L/\O_K$, and descends modulo $\pi_L$ to $k_L/k_K$.
We know that $G$ acts by isometries,
so the decomposition subgroup $= G$,
giving a surjection $\gal(L/K)\to \gal(k_L/k_K)$,
and the \textbf{inertia subgroup}\[I(L/K) = \ker\left( \gal(L/K)\to\gal(k_L/k_K) \right) = \{g\in G\mid \val_L(ga - a)\ge 1,\ \forall a\in\O_L\}.\]
We develop this idea, giving a filtration of $G$ by how ``small'' the effect of $g\in G$ is.

\subsubsection{Lower Ramification Filtration}
For $g\in \gal(L/K)$, define \[i_{L/K}(g) := \inf_{a\in\O_L}\val_L(ga - a).\]
\begin{itemize}
    \item If $\O_L = \O_K[x]$, then $i_L(g) = \val_L(gx - x)$.
\end{itemize}
\begin{proposition}\label{property of lower index}
    Let $g, h\in G = \gal(L/K)$.\begin{enumerate}
        \item [(1)] $i_L$ is a class function: $i_L(ghg^{-1}) = i_L(h)$.
        \item [(2)] $i_L$ verifies the strong triangle inequality: $i_L(gh)\ge \min\{i_L(g), i_L(h)\}$, with ``$=$'' $\iff i_L(g)\ne i_L(h)$.
        \item [(3)] $i_L(g^{-1}) = i_L(g)$.
    \end{enumerate}
\end{proposition}
\begin{proof}
    Since $k_L/k_K$ is separable, we can write $\O_L = \O_K[x]$.
    Note that \[\O_L = \O_K[x]\implies \O_L = \O_K[gx], \forall g\in G.\]
    So:
\[i_L(ghg^{-1}) = \val(ghg^{-1}x - x) \mathop{=}_{G\text{ preserves val}} \val(hg^{-1}x - g^{-1}x) = i_L(h),\]
\[i_L(gh) = \val((ghx - hx) + (hx - x))\ge \min{i_L(g), i_L(h)}.\]
The last assertion is as trivial.
\end{proof}

Now for $G = \gal(L/K)$, a real number $u\in\R_{\ge -1}$,
we define\footnote{It is ok to put $G_u := G$ for $u < -1$.} the lower ramification group
\begin{align*}
    G_u := {}& \left\{ g\in G\mid i_L(g)\ge u + 1 \right\}\\
    = {}& \{g\in G\mid ga \equiv a\bmod {\pi_L^{\lfloor u+1\rfloor}},\forall a\in\O_L\}.
\end{align*}

\begin{itemize}
    \item $G_u\vartriangleleft G$ by \cref{property of lower index}.
    \item $G_u = G_{\lfloor u\rfloor}$.
    \item $G_{-1} = G$, $G_0 = I(L/K)$.
    \item If $u\ge \max_{g\ne 1} i_L(g)$,
    then $G_u = 1$.
\end{itemize}

Let $L_0 := L^{G_0} = L^{I(L/K)}$.
This is the maximal unramified subextension of $L/K$, hence $\O_L = \O_{L_0}[\pi_L]$.
Therefore, \begin{itemize}
    \item if $g\in G_0$,
then \[i_L(g) = \val_L\left( \frac{g\pi_L}{\pi_L} - 1 \right) + 1,\]
    \item if $u\ge 0$, then \begin{align*}
        G_u = {}& \left\{g\in G_0\,\left|\, \val\left( \frac{g\pi_L}{\pi_L} - 1 \right)\right.\ge u\right\}\\
        = {}& \left\{ g\in G_0\,\left|\,
            \frac{g\pi_L}{\pi_L}\equiv 1\bmod\pi_L^{\lfloor u\rfloor}
        \right. \right\}.
    \end{align*}
\end{itemize}
\begin{lemma}
    If $n\in\Z_{\ge 1}$,
    then $G_n^p\subset G_{n+1}$.
\end{lemma}
\begin{proof}
    Take $g\in G_n$ and write \[\frac{g\pi_L}{\pi_L} = 1 + \alpha,\ \alpha\in\m_L^n.\]
    Then\footnote{\label{lem: gx/x = 1 + a => h(gx)/gx = 1 + ha}
    Note that 
        \[\dfrac{g\pi_L}{\pi_L} = 1 + \alpha
        \implies
        \frac{hg\pi_L}{g\pi_L} = 1 + h\alpha.\]
        }
    \[\frac{g^p\pi_L }{\pi_L} = \frac{g\pi_L }{\pi_L}\frac{g^2\pi_L}{g\pi_L}\cdots\frac{g^p\pi_L}{g^{p-1}\pi_L} = (1 + \alpha)(1 + g\alpha)\cdots(1 +g^{p-1}\alpha).\]
    Note that $g\alpha\equiv\alpha\bmod\pi_L^{n+1}$,
    so the product\[\equiv (1 + \alpha)^{p}\equiv 1\bmod\pi_L^{n+1}.\qedhere\]
\end{proof}

\begin{proposition}\label{G1 is unique Sylow-p of G0}
    $G_1$ is the unique Sylow $p$-group of $G_0$.
\end{proposition}
\begin{proof}
    By the last lemma,
    $G_1^{p^n}\subset G_{1 + n}$ for all $n$,
    $\implies G^{p^n} = 1$ for $n\gg 0$,
    $\implies G$ is a $p$-group.

    We show that: if $g\in G_0$ and $g^p\in G_1$,
    then $g\in G_1$.
    This would imply that all elements of $p$-power order fall in $G_1$.

    Take $g\in G_0$ and write $\dfrac{g\pi_L}{\pi_L} = \alpha\in\O_K^\times$.
    \begin{itemize}
\item $g\in G_0\implies g\alpha\equiv\alpha\bmod\pi_L\implies \dfrac{g^p\pi_L}{\pi_L}\equiv \alpha^p\bmod\pi_L$.
\item $g^p\in G_1\implies \dfrac{g^p\pi_L}{\pi_L}\equiv 1\bmod\pi_L$.
    \end{itemize}
    $\implies \alpha\equiv \alpha^p \equiv 1\bmod\pi_L\iff g\in G_1$.
\end{proof}

Write $[L : L_0] = p^kt$, $p\nmid t$.
By \cref{G1 is unique Sylow-p of G0},
$L_1 := L^{G_1}$ has degree $t$ over $L_0$, and $L_1/K$ is the unique maximal tamely ramified subextension.

The next gaol is to investigate the subquotients $G_n/G_{n+1}$ of the filtration $G\subset G_0\subset G_1\subset\cdots$.

\begin{proposition}\label{subquotients of lower ramification filtration}
    Let $n\in \Z_{\ge 0}$.
\begin{itemize}
    \item $G/G_0\simeq\gal(k_L/k_K)$.
    \item $G_0/G_1\hookrightarrow \O_L^\times/(1 + \m_L^\times)\simeq k_L^\times$ via $g\mapsto \dfrac{g\pi_L }{\pi_L } $.
    \item $G_n/G_{n+1}\hookrightarrow (1 + \m_L^n)/(1 + \m_L^{n+1})\simeq \m_L^n/\m_L^{n+1}\simeq k_L$ via $g\mapsto \dfrac{g\pi_L }{\pi_L } \mapsto \dfrac{g\pi_L - \pi_L}{\pi_L^{n+1}}$.
\end{itemize}
In particular, all the quotients $G_n/G_{n+1}(n\ge 0)$ are finite abelian, and hence $G_0$ is solvable.
\end{proposition}
\begin{proof}
    $G/G_0$ is known and $G_0/G_1$ is a sepcial case of $G_n/G_{n+1}$.

    Injectivity is clear once we prove the multipliciy.
    For $g\in G_n$, let \[\frac{g\pi_L}{\pi_L} = 1 + \alpha_g,\ \alpha_g\in\m_L^n.\]
    Then $g\alpha_h \equiv\alpha_h\bmod \pi^n$.
    So\footnote{See \ref{lem: gx/x = 1 + a => h(gx)/gx = 1 + ha}.}
    % \footnotemark[\ref{lem: gx/x = 1 + a => h(gx)/gx = 1 + ha}]
     \[
    \dfrac{gh\pi_L}{\pi_L} \equiv (1 + g\alpha_h)(1 + \alpha_g)\equiv (1 + \alpha_h)(1 + \alpha_g)\bmod\m_L^{n+1}.\qedhere
    \]
\end{proof}



\subsubsection{Upper Ramification Filtration and Ramification Groups of Infinite Extensions}

The lower ramification filtration is compatible with \textit{subgroup}s:
\begin{proposition}
    If $H < G$, then \[H_u = G_u\cap H.\]
    Namely, if $L\mid F\mid K$ is a tower of finite extensions,
    then \[\gal(L/F)_u = \gal(L/K)_u\cap \gal(L/F).\]
\end{proposition}

Bu in practice, we usually fix the bottom $K$ rather than the top $L$; we want a filtration compatible with quotients.
This is given by Herbrand's theorem.

Define \textbf{Herbrand's $\phi$} function\[\phi_{L/K} :\R_{\ge -1}\to\R_{\ge -1},\ \phi_{L/K}(u) := \int_0^u \frac{1}{[G_0 : G_t]}dt.\]
\begin{itemize}
    \item $\phi_{L/K}(0) = 0$, $\phi_{L/K}(-1) = -1$.
    \item $\phi_{L/K}$ is piece-wise affine, continuous, strictly increasing, concave, and a homeomorphism.
\end{itemize}
This gives \[\psi_{L/K} : \R_{\ge -1}\to\R_{\ge -1} := \phi_{L/K}^{-1},\]
and we define \[G^u := G_{\psi_{L/K}(u)}.\]
This upper ramification filtration is compatible with \textit{quotients}.
\begin{theorem}
    If $H\vartriangleleft G$,
    then \[(G/H)^v = G^vH/H = \text{ image of }G^v\text{ in }G/H.\]
    Namely, if $L\mid F\mid K$ is a tower of extensions,
    then \[\gal(F/K)^v = \im\left( \gal(L/K)^v\hookrightarrow\gal(L/K)\twoheadrightarrow\gal(F/K) \right).\]
\end{theorem}
Since the upper ramification filtration is compatible with quotients,
it extends to any infinite Galois extension $L/K$ by
\[\gal(L/K)^v := \varprojlim_F\left( \gal(F/K)^v \right).\]



\subsection{\texorpdfstring{Krasner's lemma and the noncompleteness of $\bar\Q_p$}{Krasner's lemma and the noncompleteness of bar Qp}}
Fix an algebraic closure $\bar\Q_p = \Q_p^\alg$ of $\Q_p$.
Krasner's lemma states that if $\beta\in\bar\Q_p$ is closer to $\alpha\in\bar\Q_p$ than any other conjugate of $\alpha$ over $F$,
then $\alpha\in F(\beta)$. Therefore, if two polynomials are ``close enough'', they will give the same extension.
\begin{theorem}
    [Krasner's lemma]\label{Krasner lemma}
    Let $F/\Q_p < \infty$, $\alpha, \beta\in \bar{\Q}_p$. If \[|\alpha - \beta| < |\alpha-\alpha_i|,\quad i = 2, \dots, n,\]
    where $\alpha_1 = \alpha, \alpha_2, \dots, \alpha_n$ are all the conjugates of $\alpha$ over $F$,
    then \[F(\alpha)\subset F(\beta).\]
\end{theorem}
\begin{proof}
    Let $K/F$ be finite Galois with $\alpha, \beta\in K$. Then $g\alpha, g\in\gal(K/F)$ are all the conjugates of $\alpha$ over $F$.
    Now if $g\in \gal(K/F(\beta))$, then \begin{align*}
        |g\alpha - \alpha|
        &= |(g\alpha - g\beta) + (\beta - \alpha)|\\ &
        \le\min\{|g\alpha - g\beta| , |\alpha - \beta|\} =\footnotemark |\alpha - \beta|
    \end{align*}
    \footnotetext{Because embeddings of finite extensions of $\Q_p$ are isometries (the uniqueness of norm extension).}
    So by the assumption,
    we have $\alpha = g\alpha$,
    i.e., $\alpha\in K^{\gal(K/F(\beta))} = F(\beta)$.
\end{proof}

\begin{theorem}
    For every $d\ge 1$, $\Q_p$ has only finitely many extensions of degree $d$.
\end{theorem}
\begin{proof}
    Every finite extension has a unique maximal unramified extension, so it suffices to show that: there is only finitely many unramified extensions of each $F/\Q_p < \infty$ of given degree $e$.

    For $e\ge 1$, the set of Eisenstein polynomials over $F$ is in bijection with \[\Pi := (\m_F\setminus\m_F^2)\times \underbrace{\m_F\times\dots\times\m_F}_{e-1},\]
    which is compact.
    So we just need to show that for each Eisenstein polynomial $P$, its corresponding point in $\Pi$ has a neighbourhood, in which all polynomials give the same extension.

    (T.B.C.)
\end{proof}

\begin{corollary}
    $\bar{\Q}_p$ is not complete.
\end{corollary}
\begin{proof}
    Now we know $\bar{\Q}_p$ is a countable union of finite dimensional $\Q_p$-vector spaces.
    Recall what Baire's theorem says:
    \begin{theorem}
        [Baire category theorem]\label{Baire thm}
        A complete metric space is a Baire space;
        i.e, a countable intersection of open dense sets is dense.

        As a corollary, a complete metric space is not a countable union of nowhere dense\footnote{Being \textbf{nowhere dense} means its closure has empty interior.} sets.
    \end{theorem}
    A finite dimensional $\Q_p$-vector space is closed and nowhere dense, so the union is not complete.
\end{proof}

Let $\C_p := \widehat{\overline{\Q_p}}$ be the completion of $\bar{\Q}_p$.
Note that neither reidue field nor value group are not extended from $\bar\Q_p$ to $\C_p$:
\begin{itemize}
    \item $v_p(\C_p) = v_p(\bar\Q_p) = \Q$\footnote{
        Consider a Cauchy sequence $\{a_n\}_n$ in $\bar{\Q}_p$.
        The difference $a_m-a_{m + d}$ will eventually have valuation $>v_p(a_m)$,
        making $v_p(\lim_{n}a_n) = v_p(a_m)$.
    }.
    \item $k_{\C_p} = \O_{\C_p}/\m_{\C_p}\simeq\O_{\bar{\Q}_p}/\m_{\bar\Q_p}\simeq\F_p^\alg$.\footnote{
        In a sum $\sum_n a_n\in\C_p$,
        a.e. $a_n\in\m_{\C_p}$. 
    }
\end{itemize}

\begin{theorem}
    $\C_p$ is algebraically closed.
\end{theorem}
\begin{proof}
    The idea is simple: root of lim of polynomial = lim of root of polynomial. Let's make this clear.

    Let $P\in \C_p[X]$ be monic of degree $d$.
    Replacing $P(X)$ by $p^{kd}P(p^{-k} X)$ for $k\gg 0$, we may assume $P\in\O_{\C_p}[X]$.

    (T.B.C.)
\end{proof}

\subsection{Ax-Sin-Tate theorem and closed subfields of \texorpdfstring{$\C_p$}{Cp}}
Let $\Q_p\subset K\subset\bar\Q_p$, $G_K := \gal(\bar\Q_p/K)$ the absolute Galois group of $K$.
Galois theory eastablishes a bijection \[
    \{\text{subextension of }\bar\Q_p/\Q_p\}\longleftrightarrow
    \{\text{closed subgroup of }\gal(\bar\Q_p/\Q_p)\}
\] via $K = \bar\Q_p^{G_K}$.
We are going to expand this relation to (certain) subextensions of $\C_p/\Q_p$.

Any $g\in\gal(\bar\Q_p/\Q_p)$ is an isometry, thus extends to an isometry and (continuous) field automorphism of $\C_p$, denoted still by $g$.
So what is $\C_p^{G_K}$?
\begin{theorem}
    [Ax-Sin-Tate]
    $\C_p^{G_K} = \widehat K$.
\end{theorem}

\begin{lemma}\label{lem: if root bounded from below then root of derivative bounded from below}
    Let $P(X)\in\bar\Q_p[X]$ be monic of degree $n$,
    s.t. all the roots $\alpha$ of $P$ have bounded valuation bounded from below; i.e., $v_p(\alpha) > c$ for some $c\in\R$.
    Let $n = p^kd$ with $p\nmid d$ or $p = d$.
    Then $P^{(p^k)}$ has a root $\beta$ with \[\begin{cases}
        v_p(\beta)\ge c, &n = p^kd,\ p\nmid d,\\ 
        v_p(\beta)\ge c - \dfrac{1}{p^k(p-1)},
        &n = p^{k+1}.
    \end{cases}\]
\end{lemma}
\begin{proof}
    Write $P(X) = X^n + a_{n-1}X^n + \dots + a_0$, and $q := p^k$.
    \begin{itemize}
        \item $v_p(a_i)\ge (n-i)c$, because $a_i = \pm$ sum of product of $n - i$ roots; multipliciy counted.
        \item $\dfrac{1}{q!}P^{(q)}(X) = \sum_{i=0}^{n-q}\binom{n-i }{q }a_{n-i }X^{n-i-q}$,
        so the product of roots of $P^{(q)} = \pm\dfrac{a_q }{\binom{n}{q}}$.
    \end{itemize}
    Hence, $\exists$ root $\beta$ of $P^{(q)}$, s.y.\[
        v_p(\beta)\ge \frac{1}{\deg P^{(q)}}v_p\left( \dfrac{a_q }{\binom{n}{q}} \right) \ge c - \frac{1}{n-q}v_p\left( \binom{n}{q} \right).\]
    By looking at carries\footnote{
        $v_p\left( \binom{a + b}{b} \right) = \#\text{ of carries when compute } a + b \text{ in base } p$.
    }, one varifes that \[v_p\left( \binom{n}{q } \right) = \begin{cases}
        0, &n = qd = p^kd,\ p\nmid d,\\ 
        1, &n = qp = p^{k+1}.
    \end{cases}\qedhere\]
\end{proof}

For $\alpha\in\bar\Q_p$, we define \[\Delta_K(\alpha) := \inf_{g\in G_K} v_p(g\alpha - \alpha).\]
\begin{theorem}
    [Ax]
    $\forall \alpha\in\bar\Q_p$, $\exists\delta\in K$, s.t. \[v_p(\alpha - \delta)\ge\Delta_K(\alpha) - \frac{p}{(p-1)^2}.\]
\end{theorem}
\begin{proof}
    We do induction on $n := [K(\alpha) : K]$ to show a stronger estimate: $\exists\delta\in K$ s.t.
    \[v_p(\alpha - \delta) \ge \Delta_K(\alpha) - \sum_{k=1}^{m}\frac{1}{p^k(p-1)},\]
    where $m\in\Z$ such that $p^{m+1}$ is the largest $p$-power $\le n$.

    Let $Q(X)\in K[X]$ be the minimal polynomial of $\alpha$ over $K$,
    and set $P(X) := Q(X +\alpha)\in\bar\Q_p[X]$.
    The roots of $P$ are $g\alpha - \alpha$, where $g\in G_K$.

    Apply \cref{lem: if root bounded from below then root of derivative bounded from below}
    to $v_p(g\alpha - \alpha)\ge \Delta_K(\alpha)$,
    we obtain a root $\beta\in\bar\Q_p$ of $P^{(q)}(X)$,
    where $q = p^k$,
    s.t. \[\begin{cases}
        v_p(\beta)\ge \Delta_K(\alpha), &n \text{ is not a power of } p, q\,\|\,n\\
        v_p(\beta)\ge \Delta_K(\alpha) - \dfrac{1}{p^m(p-1)}, &n = p^{m + 1} = qp, k = m.
    \end{cases}\]
    Consider $\alpha' := \alpha + \beta$, a root of $Q^{(q)}(X)\in K[X]$.
    We have \[[K(\alpha') : K]\le\deg Q^{(q)} < \deg Q = [K (\alpha) : K]
    \] as $q > 0$, so by induction hypothesis,
    $\exists\delta\in K$ s.t. \[v_p(\alpha - \delta)\ge \Delta_K(\alpha') - \sum_{i=1}^{r}\frac{1}{p^i(p-1)},\]
    where $p^{r+1}$ is the largest $p$-power $\le n - q = \deg Q^{(q)}$.
    Now we estimate $\Delta_K(\alpha')$.
    Note that \[g\alpha' - \alpha'
    = \underbrace{g\alpha' - g\alpha}_{=g\beta}
    +\underbrace{g\alpha - \alpha}_{v_p\ge \Delta_K(\alpha)}
    +\underbrace{\alpha - \alpha'}_{ = -\beta}.\]
\begin{itemize}
    \item If $n = qd$ with $p\nmid d$,
    then $\Delta_K(\alpha')\ge \Delta_K(\alpha)$,
    and the estimation holds for $\alpha$.
    \item If $n = p^{m+1}$, then $\Delta_K(\alpha')\ge \Delta_K(\alpha) - \dfrac{1}{p^m(p-1)}$.
    Since $r < m$, the estimation of $\alpha$ still holds.\qedhere
\end{itemize}
\end{proof}

Ax-Sin-Tate theorem is a direct corollary of Ax's theorem.
\begin{proof}
    [Proof of Ax-Sin-Tate]
    The inclusion $\widehat{K}\subset \C_p^{G_K}$ come from the fact that $G_K$ acts on $\C_p$ continuously.

    For the other inclusion, take $\alpha\in \C_p^{G_K}$ and write $\alpha = \lim_{n}\alpha_n$ with $\alpha_n\in\bar\Q_p$.
    Note that \[\alpha\in\C_p^{G_K}\iff \Delta_K(\alpha_n)\to \Delta_K(\alpha) = +\infty.\]
    So by Ax's theorem,
    there exists $\delta_n\in K$ with \[v_p(\delta_n - \alpha_n)\ge \Delta_K(\alpha_n) - \frac{p}{(p-1)^2}\to+\infty,\]
    and thus $\alpha = \lim_n\delta_n\in\widehat{K}$.
\end{proof}

\begin{theorem}
    There is a bijection
    \begin{align*}
        \{\text{subfield of }\bar\Q_p\}&\longleftrightarrow
        \{\text{closed subfield of }\C_p\}\\
        K&\longmapsto \widehat{K}\\ 
        L\cap\bar\Q_p&\longmapsfrom L.
    \end{align*}
\end{theorem}
\begin{proof}
    \begin{itemize}
\item Show $K < \bar\Q_p\implies \widehat{K}\cap\bar\Q_p = K$.
\item Show $L\stackrel{\text{closed}}{<}\C_p\implies \widehat{L\cap\bar\Q_p} = L$, i.e.,
$L\cap\bar\Q_p$ is dense in $L$.
    \end{itemize}
\end{proof}














